var start;jQuery.fn.sort=function(){return this.pushStack([].sort.apply(this,arguments),[])},function($,window,document,undefined){function Plugin(t,a){this.element=t,$(this.element).data("wlemap",this),this.options=$.extend(!0,{},defaults,a),this._defaults=defaults,this._name=pluginName,this.init()}var pluginName="wlemap",defaults={wleobjMap:{enabled:!1,map:null,mapContiner:"#map_continer",mapWidth:800,mapHeight:330,mapUsaNoData:!1,mapPopupPrefix:" ",mapPopupSufix:" ",mapPopupPrefixND:" ",mapPopupSufixND:" ",mapData:null,mapDataColors:null,mapDataExtra:null,mapDataColorsExtra:null,mapShape:"world_mill_en",mapAnimation:!0,mapAnimationSpeed:20,mapAnimationIntervalId:0,mapAnimationCount:0,focusOn:"",colorOnStart:null,selectedColorOnStart:null,onRegionClickCallback:null,onRegionOutCallback:null,onRegionOverCallback:null,onRegionLabelShow:null,mapAnimationFade:!0,mapShapesColor:"#222222",mapShapesHoverColor:"#0000FF",mapShapesHoverOpacity:"",mapZoomOnScroll:!1,mapZoomButtons:!0,mapBackgroundColor:"",legend:{enabled:!0,legendContiner:!1,legendClearButton:null,legendClearButtonCallback:null,legendClearButtonFlashingStyle:null,legendItemCallback:null,legendItemLabel:!1,legendBefore:null,legendAfter:null,legendDublicate:!1}},wleobjData:{datajson:null,jsonUrl:null,dataParams:["cause","order"],dataUpdateButtons:"false",dataUpdateButtonClickCallback:null,dataUpdateSelect:"false",dataUpdateSelectChangeCallback:null,dataUpdateSelectChangeBefore:null,dataJsonUpdateButtons:"false",dataJsonUpdateButtonsClickCallback:null,datajsonextra:null,dataVariables:{idVariable:"id",nameVariable:"name",valueVariable:"value",colorVariable:"color"}},wleobjChart:{enabled:!1,chartContiner:"#chart_continer",chartRowCount:40,chartColomnCount:3,chartInsertCount:4,chartInsertCounter:1,chartVariables:[],displayVariable:"value",chartSortButtons:[{sortIndex:2,sortButtonText:""},{sortIndex:4,sortButtonText:""}],chartSortButtonsCopy:!1,subHeader:[],chartTable:null,useCommas:!1,chartFlagClass:"world-flags wld-",chartOrderButtons:[],chartExtraHeaders:[],chartExtraFooters:[],chartHorisontalHighlight:{enabled:!1,highlights:[],highlightColomn:0,highlightColomnReleat:!1,highlightRowClass:"hc_highlight_h"},chartPops:!1,chartSelectedColomn:{enabled:!1,selectedColomn:"",useColorsFromData:!1,updateButtonsSelector:".chart-order.sel",selectedColomnClass:"hc_selected_v",selectedColomnLeftClass:"",selectedColomnRightClass:"",selectedColomnClassDynamicPrefixVar:""}},selectedBgColor:"",subHeader:[],oneTime:!0};Plugin.prototype={init:function(){this.initVarables(),this.firstInitWle(),this.options.wleobjChart.enabled&&this.firstInitChart(),this.retrieveData()},initVarables:function(){this.animI=0,this.animJ=0,this.animM=0,this.animIInc=1,this.CountryCounter=0,this.chartAnimationTimeoutId=0,this.mapItemCounter=0,this.mapAnimationIntervalId=0,this.hRowPopMale=null,this.hRowPopFemale=null,this.hRowPopBoth=null,this.isFirst=!0},retrieveData:function(){var t={},a=this;"string"==typeof this.options.wleobjData.jsonUrl?($.each(this.options.wleobjData.dataParams,function(a,e){t[e]=$("#"+e).val()}),$.getJSON(this.options.wleobjData.jsonUrl,t).done(function(t){a.options.wleobjData.datajson=t,a.parseData()}).fail(function(t,a,e){})):(this.options.wleobjData.datajson=this.options.wleobjData.jsonUrl,this.parseData())},parseData:function(){var t=this.options.wleobjData.datajson.chart.countries.countryitem;this.options.wleobjMap.enabled&&(this.initMapData(),this.initMap()),this.options.wleobjChart.enabled&&(this.dataJSONIndex(t),this.initChart()),this.initUpdateButtons(),this.initUpdateSelect(),this.initJsonUpdateButtons()},initMapData:function(){var t=this.options.wleobjData.datajson.chart.countries.countryitem,a={},e={},o=this.options.wleobjData.dataVariables.colorVariable,i=this.options.wleobjData.dataVariables.valueVariable;if($.each(t,function(){a[this.id]=this[i],e[this.id]="#"+this[o]}),this.options.wleobjMap.mapData=a,this.options.wleobjMap.mapDataColors=e,this.options.wleobjData.datajsonextra){var n=this.options.wleobjData.datajsonextra.countryitem,l=this.options.wleobjMap.mapData,s=this.options.wleobjMap.mapDataColors;$.each(n,function(){l[this.id]=this[i],s[this.id]="#"+this[o]})}},initMap:function(){$(this.options.wleobjMap.mapContiner).html(""),$(this.options.wleobjMap.mapContiner).width(this.options.wleobjMap.mapWidth),$(this.options.wleobjMap.mapContiner).height(this.options.wleobjMap.mapHeight),this.renderMap()},initOrderButtons:function(){var t=this.options.wleobjChart.chartOrderButtons;for(var a in t)$(t[a].chartOrderButton).on("click",$.proxy(this.chartOrderButtonClick,this,t[a].chartOrderProperty))},chartOrderButtonClick:function(t){this.reorderChart(t)},initUpdateButtons:function(){this.options.wleobjData.dataUpdateButtons&&($(this.options.wleobjData.dataUpdateButtons).unbind("click"),$(this.options.wleobjData.dataUpdateButtons).on("click",{$this:this},this.dataUpdateButtonClick),this.options.wleobjData.dataUpdateButtonClickCallback&&$(this.options.wleobjData.dataUpdateButtons).on("click",{$this:this},this.options.wleobjData.dataUpdateButtonClickCallback))},jsUpdateCelan:function(){$(".jvectormap-label").remove()},dataUpdateButtonClick:function(t){t.data.$this.jsUpdateCelan();for(var a=t.data.$this.options.wleobjChart,e=t.data.$this.options.wleobjData,o=$(this).attr("class").split(" "),i=$(this).attr("class").split(" ")[0],n=$(this).attr("class").split(" ")[1],l=$(this).attr("class").split(" ")[2],s=0;s<o.length;++s)if(-1!=o[s].indexOf("extra_option-"))for(var r=o[s].replace("extra_option-",""),h=r.split("-"),p=0;h[p];)$(h[p]).val(h[p+1]),p+=2;$("."+i+"."+n).removeClass(i+"_sel"),$("."+i+"."+n+"."+l).addClass(i+"_sel"),"sel"===n&&(a.displayVariable=l,e.dataVariables.valueVariable=l),$("#"+n).val(l),t.data.$this.updateData()},initUpdateSelect:function(){if(this.options.wleobjData.dataUpdateSelect){var t,a=this.options.wleobjData.dataUpdateSelect,e=a.split(" ");for(t=0;t<e.length;t++){var o=$(e[t]);o.unbind("change"),this.options.wleobjData.dataUpdateSelectChangeBefore&&o.on("change",{$this:this},this.options.wleobjData.dataUpdateSelectChangeBefore),o.on("change",{$this:this},this.dataUpdateSelectChange),this.options.wleobjData.dataUpdateSelectChangeCallback&&o.on("change",{$this:this},this.options.wleobjData.dataUpdateSelectChangeCallback)}}},dataUpdateSelectChange:function(t){t.data.$this.jsUpdateCelan();t.data.$this.options.wleobjChart,t.data.$this.options.wleobjData,$(this).attr("class").split(" "),$(this).attr("class").split(" ")[0];var a=$(this).attr("class").split(" ")[1],e=$(this).val();$("#"+a).val(e),t.data.$this.updateData()},initJsonUpdateButtons:function(){this.options.wleobjData.dataJsonUpdateButtons&&($(this.options.wleobjData.dataJsonUpdateButtons).unbind("click"),$(this.options.wleobjData.dataJsonUpdateButtons).on("click",{$this:this},this.dataJsonUpdateButtonClick),this.options.wleobjData.dataJsonUpdateButtonsClickCallback&&$(this.options.wleobjData.dataJsonUpdateButtons).on("click",{$this:this},this.options.wleobjData.dataJsonUpdateButtonsClickCallback))},dataJsonUpdateButtonClick:function(event){var wleobjChart=event.data.$this.options.wleobjChart,wleobjData=event.data.$this.options.wleobjData,variable_array=$(this).attr("class").split(" "),variable_selector=$(this).attr("class").split(" ")[0],variable_name=$(this).attr("class").split(" ")[1];void 0===window[variable_name]||($("."+variable_selector).removeClass(variable_selector+"_sel"),$("."+variable_selector+"."+variable_name).addClass(variable_selector+"_sel"),event.data.$this.options.wleobjData.jsonUrl=eval(variable_name),event.data.$this.options.wleobjData.datajson=event.data.$this.options.wleobjData.jsonUrl,event.data.$this.initMapData(),event.data.$this.fillMap())},updateData:function(){this.retrieveData()},renderMap:function(){var t=this.options.wleobjMap,a=(t.mapData,t.mapPopupPrefix),e=t.mapPopupSufix,o=t.mapPopupPrefixND,i=t.mapPopupSufixND;t.mapAnimationFade&&$(this.options.wleobjMap.mapContiner).css({opacity:0}),mapOptions={container:$(t.mapContiner),backgroundColor:t.mapBackgroundColor,zoomOnScroll:t.mapZoomOnScroll,zoomMax:1,zoomMin:1,zoomButtons:t.mapZoomButtons,map:t.mapShape,regionStyle:{initial:{fill:t.mapShapesColor,stroke:"none","stroke-width":0,"stroke-opacity":1},hover:{}},series:{regions:[{}]},focusOn:t.focusOn},t.mapShapesHoverColor&&(mapOptions.regionStyle.hover.fill=t.mapShapesHoverColor),t.mapShapesHoverOpacity&&(mapOptions.regionStyle.hover["fill-opacity"]=t.mapShapesHoverOpacity),t.onRegionLabelShow?mapOptions.onRegionLabelShow=t.onRegionLabelShow:mapOptions.onRegionLabelShow=function(n,l,s){var r="N/D";t.mapData[s]==undefined?(r="N/D",l.html(l.html()+o+r+i)):"N/D"==t.mapData[s]?(r=t.mapData[s],l.html(l.html()+o+r+i)):(r=t.mapData[s],l.html(l.html()+a+r+e))};var n=!!navigator.userAgent.match(/(iPad|iPhone|iPod)/g);t.onRegionClickCallback?(mapOptions.onRegionOver=function(a,e){t.onRegionOverCallback&&t.onRegionOverCallback(),$(this).on("click",{country_code:e},t.onRegionClickCallback),n&&$(this).trigger("click")},mapOptions.onRegionOut=function(a,e){t.onRegionOutCallback&&t.onRegionOutCallback(),$(this).unbind("click")}):(t.onRegionOverCallback&&(mapOptions.onRegionOver=t.onRegionOverCallback),t.onRegionOutCallback&&(mapOptions.onRegionOut=t.onRegionOutCallback)),map=new jvm.WorldMap(mapOptions),t.map=map,t.legend.enabled&&(this.drowMapLegend(""),t.legend.legendDublicate&&this.drowMapLegend("jvectormap-legend-dublicate")),t.mapAnimationFade?$(t.mapContiner).animate({opacity:1},1e3):$(this.options.wleobjMap.mapContiner).css({opacity:1}),t.mapAnimation?(this.mapItemCounter=0,window.clearInterval(this.mapAnimationIntervalId),this.mapAnimationIntervalId=window.setInterval($.proxy(this.animateMap,this),t.mapAnimationSpeed)):t.colorOnStart?this.fillMapColor(t.colorOnStart):t.selectedColorOnStart?this.mapFillColor(t.selectedColorOnStart):this.fillMap()},drowMapLegend:function(t){var a=this.options.wleobjMap,e=(this.options.wleobjMap.legend,this.options.wleobjData.datajson.chart.legend.legenditem),o=(a=this.options.wleobjMap,this.options.wleobjMap.legend,e=this.options.wleobjData.datajson.chart.legend.legenditem,null);o=a.legend.legendContiner?a.legend.legendContiner:$('<div class="jvectormap-legend-continer"></div>').appendTo($(a.mapContiner));var i=$('<div class="jvectormap-legend '+t+'"></div>').appendTo($(o));if(a.legend.legendBefore)$(a.legend.legendBefore).appendTo(i);var n=$('<div class="jvectormap-legend-items"></div>').appendTo(i);if(a.legend.legendAfter)$(a.legend.legendAfter).appendTo(i);for(var l=0;l<e.length;l++){var s=$('<div class="jvectormap-legend-item"></div>').appendTo(n);if(this.options.wleobjMap.legend.legendItemLabel)$('<div class="jvectormap-legend-item-label">'+e[l].name+"</div>").appendTo(n);s.on("click",$.proxy(this.onLegendItemClick,this,e[l].color,s)),this.options.wleobjMap.legend.legendItemCallback&&s.on("click",$.proxy(this.options.wleobjMap.legend.legendItemCallback,this,e[l].color)),s.css("background-color","#"+e[l].color),s.addClass("jvectormap-legend-item-"+e[l].color)}if(this.options.wleobjMap.legend.legendClearButton){$('<span class="jvectormap-legend-clear-button jvectormap-legend-clear-button-flash" id="'+this.options.wleobjMap.legend.legendClearButton.substring(1)+'" >Clear</span>').appendTo(i);$(this.options.wleobjMap.legend.legendClearButton).on("click",$.proxy(this.onLegendClearButtonClick,this)),this.options.wleobjMap.legend.legendClearButtonCallback&&$(this.options.wleobjMap.legend.legendClearButton).on("click",$.proxy(this.options.wleobjMap.legend.legendClearButtonCallback,this,"999"))}},isAllLegendItemsSelected:function(){for(var t=!0,a=$(this.options.wleobjMap.mapContiner),e=a.find(".jvectormap-legend-item"),o=0;o<e.length;o++)if(!$(e[o]).hasClass("jvectormap-legend-clear-button-sel"))return void(t=!1);return t},onLegendItemClick:function(t,a){$(a).addClass("jvectormap-legend-clear-button-sel"),this.options.wleobjMap.legend.legendClearButtonFlashingStyle&&(this.isAllLegendItemsSelected()?$(this.options.wleobjMap.legend.legendClearButton).addClass("jvectormap-legend-clear-button-flash"):$(this.options.wleobjMap.legend.legendClearButton).removeClass("jvectormap-legend-clear-button-flash")),this.mapFillColor(t)},onLegendClearButtonClick:function(t){if(this.options.wleobjMap.legend.legendClearButtonFlashingStyle){$(this.options.wleobjMap.legend.legendClearButton).removeClass("jvectormap-legend-clear-button-flash");for(var a=$(this.options.wleobjMap.mapContiner),e=a.find(".jvectormap-legend-item"),o=0;o<e.length;o++)$(e[o]).removeClass("jvectormap-legend-clear-button-sel")}this.clearMap()},mapFillColor:function(t){var a=this.options.wleobjMap.mapDataColors,e={};for(var o in a)a[o]=="#"+t&&(e[o]=a[o]);this.options.wleobjMap.map.series.regions[0].setValues(e)},clearMap:function(t){this.mapItemCounter=0,window.clearInterval(this.mapAnimationIntervalId);var a=this.options.wleobjMap.mapDataColors,e={};for(var o in a)e[o]=this.options.wleobjMap.mapShapesColor;this.options.wleobjMap.map.series.regions[0].setValues(e)},fillMap:function(){var t=this.options.wleobjMap.mapDataColors,a={};for(var e in t)a[e]=t[e];this.options.wleobjMap.map.series.regions[0].setValues(a)},fillMapColor:function(t){var a=this.options.wleobjMap.mapDataColors,e={};for(var o in a)e[o]=t;this.options.wleobjMap.map.series.regions[0].setValues(e)},animateMap:function(){var t=this.mapItemCounter,a=this.options.wleobjMap.mapDataColors,e=[],o=0;for(var i in a)e.push(i),o++;var n=a[e[t]],l={};if(l[e[t]]=n,this.options.wleobjMap.map.series.regions[0].setValues(l),t==o-1)return this.mapItemCounter=0,void window.clearInterval(this.mapAnimationIntervalId);this.mapItemCounter++},initChart:function(){this.clearChart(),this.renderChart(),this.isFirst&&this.addPops(),this.animateChart(),this.isFirst=!1},firstInitWle:function(){},firstInitChart:function(){this.createChart(),this.initOrderButtons()},reorderChart:function(t){var a=this.options.wleobjData.datajson.chart.countries.countryitem;this.sortJsonArrayByProp(a,t),this.initVarables(),this.clearChart(),this.animateChart()},dataJSONIndex:function(t){for(var a in t)t[a]._order=a},sortJsonArrayByProp:function(t,a){if(arguments.length<2)throw new Error("sortJsonArrayByProp requires 2 arguments");if(t&&t.constructor===Array){var e=a.constructor===Array?a:a.split(".");t.sort(function(t,a){for(var o in e)t[e[o]]&&a[e[o]]&&(t=t[e[o]],a=a[e[o]]);return t<a?-1:t>a?1:0})}},createChart:function(){var t=this.options.wleobjChart,a=document.createElement("table");a.cellSpacing=0,a.align="center",$(a).addClass("hc_tbl"),$(t.chartContiner).append(a);var e=document.createElement("TBODY");a.appendChild(e),t.chartTable=e;var o=document.createElement("THEAD");a.appendChild(o);var i=document.createElement("TFOOT");a.appendChild(i);var n=0;if(t.chartExtraHeaders.length)for(;n<t.chartExtraHeaders.length;n++)$(o).append("<tr>"+t.chartExtraHeaders[n]+"</tr>");for(var l=o.insertRow(n),s=0,r=0;r<t.chartColomnCount;r++)for(var h=0;h<t.chartVariables.length;h++)if(void 0===t.chartVariables[h-1]||!t.chartVariables[h-1].varCombine){if(col=l.insertCell(s),col.className="hc_header",""!==t.chartVariables[h].varLabel){for(var p="",c=0;c<t.chartSortButtons.length;c++)t.chartSortButtons[c].sortIndex!=h||0!==r&&!t.chartSortButtonsCopy||(p=t.chartSortButtons[c].sortButtonText);var d=t.chartVariables[h].varLabel+p;col.innerHTML=d}else col.innerHTML="";t.chartVariables[h].varCombine&&(col.colSpan=2),t.chartVariables[h].varCombineV&&(col.rowSpan=2),s++}if(n++,0!==t.subHeader.length)for(var m=o.insertRow(n),u=0;u<t.subHeader.length;u++)col=m.insertCell(u),col.className="hc_sub_header",col.innerHTML=t.subHeader[u];var C=null;col=null;for(var b=0;b<t.chartRowCount;b++){C=e.insertRow(-1);for(var g=0;g<t.chartColomnCount;g++)for(var w=0;w<t.chartVariables.length;w++)col=C.insertCell(-1),col.className=t.chartVariables[w].varClassName}var f=0;if(t.chartExtraFooters.length)for(;f<t.chartExtraFooters.length;f++)$(i).append("<tr>"+t.chartExtraFooters[f]+"</tr>");if(t.chartPops){var v=i.insertRow(f);v.className="hc_head_sex",this.hRowPopFemale=v,f++,femaleFirstCell=v.insertCell(0),$(femaleFirstCell).html('<a  class="chart-order sex female hc_btn_footer_gender hc_btn_footer_gender_sel">Female</a><div class="population_text">POPULATION</div>');for(b=1;b<10;b++){var j=v.insertCell(b);j.colSpan=2}var _=i.insertRow(f);_.className="hc_head_sex",this.hRowPopMale=_,f++,maleFirstCell=_.insertCell(0),$(maleFirstCell).html('<a  class="chart-order sex male hc_btn_footer_gender">Male</a><div class="population_text">POPULATION</div>');for(b=1;b<10;b++){j=_.insertCell(b);j.colSpan=2}var M=i.insertRow(f);M.className="hc_head_sex",this.hRowPopBoth=M,f++,bothFirstCell=M.insertCell(0),$(bothFirstCell).html('<a  class="chart-order sex both hc_btn_footer_gender">Both</a><div class="population_text">POPULATION</div>');for(b=1;b<10;b++){j=M.insertCell(b);j.colSpan=2}}},clearChart:function(){window.clearTimeout(this.chartAnimationTimeoutId);for(var t=this.options.wleobjChart,a=0;a<t.chartRowCount;a++)for(var e=0;e<t.chartColomnCount;e++)for(k=0;k<t.chartVariables.length;k++){var o=t.chartTable.rows[a].cells[e*t.chartVariables.length+k],i=$(o).attr("class").split(" ")[0];$(o).removeClass(),$(o).addClass(i),$(o).addClass("hc_clear"),$(o).css("background-color","transparent"),$(o).html("")}},renderChart:function(){this.animI=0,this.animIInc=1,this.Reverce&&(this.animI=this.chartdata.chart.countries.countryitem.length-1,this.animIInc=-1),this.animJ=0,this.animM=0,this.CountryCounter=0},addPops:function(){if(this.options.wleobjData.datajson.chart.pops){this.options.wleobjChart;var t=this.options.wleobjData.datajson.chart.pops.popitem[0];this.hRowPopMale.id="hc_head_sex_male",this.hRowPopMale.className="hc_footer_sex",this.hRowPopMale.cells[1].innerHTML=t.p,this.hRowPopMale.cells[2].innerHTML=t.p_0_14,this.hRowPopMale.cells[3].innerHTML=t.p_15_24,this.hRowPopMale.cells[4].innerHTML=t.p_25_34,this.hRowPopMale.cells[5].innerHTML=t.p_35_44,this.hRowPopMale.cells[6].innerHTML=t.p_45_54,this.hRowPopMale.cells[7].innerHTML=t.p_55_64,this.hRowPopMale.cells[8].innerHTML=t.p_65_74,this.hRowPopMale.cells[9].innerHTML=t.p_75;t=this.options.wleobjData.datajson.chart.pops.popitem[1];this.hRowPopFemale.id="hc_head_sex_female",this.hRowPopFemale.className="hc_footer_sex hc_footer_sex_sel",this.hRowPopFemale.cells[1].innerHTML=t.p,this.hRowPopFemale.cells[2].innerHTML=t.p_0_14,this.hRowPopFemale.cells[3].innerHTML=t.p_15_24,this.hRowPopFemale.cells[4].innerHTML=t.p_25_34,this.hRowPopFemale.cells[5].innerHTML=t.p_35_44,this.hRowPopFemale.cells[6].innerHTML=t.p_45_54,this.hRowPopFemale.cells[7].innerHTML=t.p_55_64,this.hRowPopFemale.cells[8].innerHTML=t.p_65_74,this.hRowPopFemale.cells[9].innerHTML=t.p_75;t=this.options.wleobjData.datajson.chart.pops.popitem[2];this.hRowPopBoth.id="hc_head_sex_both",this.hRowPopBoth.className="hc_footer_sex",this.hRowPopBoth.cells[1].innerHTML=t.p,this.hRowPopBoth.cells[2].innerHTML=t.p_0_14,this.hRowPopBoth.cells[3].innerHTML=t.p_15_24,this.hRowPopBoth.cells[4].innerHTML=t.p_25_34,this.hRowPopBoth.cells[5].innerHTML=t.p_35_44,this.hRowPopBoth.cells[6].innerHTML=t.p_45_54,this.hRowPopBoth.cells[7].innerHTML=t.p_55_64,this.hRowPopBoth.cells[8].innerHTML=t.p_65_74,this.hRowPopBoth.cells[9].innerHTML=t.p_75}},itemClicked:function(t){var a=this.options.wleobjChart,e=a.chartHorisontalHighlight.highlights;item_name=$(t).html();var o=$.inArray(item_name,e);if(o>=0){if(e.splice($.inArray(item_name,e),1),$(t).removeClass(a.chartHorisontalHighlight.highlightRowClass),1===a.chartColomnCount){var n=$(t);for(i=0;i<18;i++)n=n.next(),n.removeClass(a.chartHorisontalHighlight.highlightRowClass)}}else if(e.push(item_name),$(t).addClass(a.chartHorisontalHighlight.highlightRowClass),1===a.chartColomnCount){n=$(t);for(i=0;i<18;i++)n=n.next(),n.addClass(a.chartHorisontalHighlight.highlightRowClass)}},animateChart:function(){var t=this.options.wleobjChart,a=this.options.wleobjChart.chartTable,e=this.options.wleobjData.datajson.chart.countries.countryitem[this.animI],o=this.options.wleobjData.dataVariables.colorVariable,i="#"+e[o];if(void 0===e.isshow||1==e.isshow)for(var n=0;n<t.chartVariables.length;n++){var l=a.rows[this.animM].cells[this.animJ+n];$(l).removeClass("hc_clear");var s=t.chartVariables[n].varName,r=t.chartVariables[n].varType,h=t.chartVariables[n].varUpper;t.displayVariable.substring(0,t.displayVariable.length-1);if(t.chartSelectedColomn.enabled&&s===t.displayVariable&&(t.chartSelectedColomn.useColorsFromData&&$(l).css("background-color",i),selectedColomnClassDynamicPrefix="",""!=t.chartSelectedColomn.selectedColomnClassDynamicPrefixVar&&(selectedColomnClassDynamicPrefix=$(t.chartSelectedColomn.selectedColomnClassDynamicPrefixVar).val()),$(l).addClass(t.chartSelectedColomn.selectedColomnClass+" "+selectedColomnClassDynamicPrefix),""!=t.chartSelectedColomn.selectedColomnLeftClass&&$(l).prev().addClass(t.chartSelectedColomn.selectedColomnLeftClass+" "+selectedColomnClassDynamicPrefix),""!=t.chartSelectedColomn.selectedColomnRightClass&&$(l).next().addClass(t.chartSelectedColomn.selectedColomnRightClass+" "+selectedColomnClassDynamicPrefix)),"img"==r)$(l).addClass("hc_flag "+t.chartFlagClass+e[s]);else if("text"==r){if(h)$(l).html(e[s].toUpperCase());else if(t.useCommas)$(l).html(this.addCommas(e[s]));else if(void 0===t.chartVariables[n].varWrap)$(l).html(e[s]);else{var p=t.chartVariables[n].varWrap,c=p.match(/[^\[\]]+(?=\])/g),d=!0;for(u=0;u<c.length;u++)if(""==e[c[u]]){d=!1;break}if(d)for(const t in e)p=p.replace("["+t+"]",e[t]);else p=e[s];$(l).html(p)}if(!0===t.chartHorisontalHighlight.enabled&&t.chartHorisontalHighlight.highlightColomn===n){$(l).unbind(),$(l).on("click",$.proxy(this.itemClicked,this,l));var m=t.chartHorisontalHighlight.highlights;item_name=$(l).html();var C=$.inArray(item_name,m);if(C>=0){$(l).addClass(t.chartHorisontalHighlight.highlightRowClass);var b=$(l);if(t.chartHorisontalHighlight.highlightColomnReleat)for(;b.next();)b=b.next(),b.addClass(t.chartHorisontalHighlight.highlightRowClass)}}}}this.animM==t.chartRowCount-1?(this.animM=0,this.animJ=this.animJ+t.chartVariables.length):this.animM++,this.animI=this.animIInc+this.animI,this.CountryCounter++,this.checkLatest()},checkLatest:function(){var t=this.options.wleobjChart,a=this.options.wleobjData.datajson.chart.countries.countryitem.length;this.animI!=a&&(t.chartInsertCounter==t.chartInsertCount?(t.chartInsertCounter=1,this.chartAnimationTimeoutId=window.setTimeout($.proxy(this.animateChart,this),10)):(t.chartInsertCounter++,this.animateChart()))},addCommas:function(t){t+="",x=t.split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";for(var a=/(\d+)(\d{3})/;a.test(x1);)x1=x1.replace(a,"$1,$2");return x1+x2}},$.fn[pluginName]=function(t){return this.each(function(){$.data(this,"plugin_"+pluginName)||$.data(this,"plugin_"+pluginName,new Plugin(this,t))})}}(jQuery,window,document);